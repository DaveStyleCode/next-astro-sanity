---
interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

const prevUrl = currentPage > 1 ? `${baseUrl}${currentPage === 2 ? '' : `/${currentPage - 1}`}` : null;
const nextUrl = currentPage < totalPages ? `${baseUrl}/${currentPage + 1}` : null;
---

{totalPages > 1 && (
  <nav class="mt-8 flex items-center justify-center gap-2" aria-label="Pagination">
    <a
      href={prevUrl || '#'}
      class:list={[
        'rounded-lg px-4 py-2 text-sm font-medium transition-colors',
        prevUrl
          ? 'bg-secondary  hover:bg-primary-100 hover:text-primary-700'
          : 'pointer-events-none bg-secondary text-secondary opacity-50',
      ]}
      aria-disabled={!prevUrl}
    >
      Previous
    </a>

    <div class="flex items-center gap-1">
      {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
        <a
          href={page === 1 ? baseUrl : `${baseUrl}/${page}`}
          class:list={[
            'rounded-lg px-3 py-2 text-sm font-medium transition-colors',
            page === currentPage
              ? 'bg-primary-600 text-white'
              : 'bg-secondary  hover:bg-primary-100 hover:text-primary-700',
          ]}
          aria-current={page === currentPage ? 'page' : undefined}
        >
          {page}
        </a>
      ))}
    </div>

    <a
      href={nextUrl || '#'}
      class:list={[
        'rounded-lg px-4 py-2 text-sm font-medium transition-colors',
        nextUrl
          ? 'bg-secondary  hover:bg-primary-100 hover:text-primary-700'
          : 'pointer-events-none bg-secondary text-secondary opacity-50',
      ]}
      aria-disabled={!nextUrl}
    >
      Next
    </a>
  </nav>
)}
